<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/fullcalendar@3.10.2/dist/fullcalendar.min.css"
    />
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@3.10.2/dist/fullcalendar.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="../js/process_show_reservation.js"></script>
    <title>Reservation Calendar</title>
  </head>
  <body>
    <div id="calendar"></div>
    <form id="reservationForm">
      <label for="selecteName">Name :</label>
      <input type="text" id="selectedName" name="selectedName" required />

      <label for="selectedDate">Selected Date:</label>
      <input type="text" id="selectedDate" name="selectedDate" required />

      <label for="selectedTime">Selected Time:</label>
      <input type="text" id="selectedTime" name="selectedTime" required />

      <button type="button" id="sendReservation">Submit Reservation</button>
    </form>

    <script>
      $(document).ready(function () {
        console.log(showResa());
        let formResa = document.getElementById("reservationForm");
        $("#calendar").fullCalendar({
          header: {
            left: "prev,next today",
            center: "title",
            right: "month,agendaWeek,agendaDay",
          },
          defaultView: "month",
          editable: true,
          eventLimit: true,
          selectable: true,
          select: function (start, end, jsEvent, view) {
            formResa.style.display = "block";
            // Update the form fields with selected date and time
            $("#selectedDate").val(moment(start).format("YYYY-MM-DD"));
            $("#selectedTime").val(
              moment(start).format("HH:mm") +
                " - " +
                moment(end).format("HH:mm")
            );
          },
          events: [
            {
              title: "Créneau 1",
              start: "2023-12-18T10:00:00",
              end: "2023-12-18T11:00:00",
            },
            {
              title: "Créneau 2",
              start: "2023-12-18T14:00:00",
              end: "2023-12-18T15:00:00",
            },
          ],
        });
      });
    </script>
    <script src="../js/add_reservation.js"></script>
  </body>
</html>
